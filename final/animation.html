<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="animation.css">
	<title>animation</title>
</head>
<body>
	<header>
		<a href="index.html" class="title">☽  alison杨</a>
		<nav class="mainmenu">
			<ul>
				<li><a href="sketchbook.html">sketchbook</a></li>
				<li><a href="animation.html">animation</a></li>
				<li><a href="photography.html">photography</a>
					<ul>
						<li><a href="unrolled.html">unrolled</a></li>
						<li><a href="savetheday.html">save the day</a></li>
					</ul>
				</li>
				<li><a href="about.html">about</a></li>
			</ul>
		</nav>
	</header>

	<div class="container">
		<a href="omy.html">
			<video class="vid" width="100%" height="100%">
				<source src="img/omy.mp4" type="video/mp4">
			</video>
		</a>
	</div>

	<script type="text/javascript">
		var time = new Date();
		var hour = time.getHours();
		console.log(hour);
		if (hour < 7 || hour > 19)
			document.body.style.backgroundImage = "url(img/DSC06623-8.jpg)";
		else
			document.body.style.backgroundImage = "url(img/DSC06623-7.jpg)";

		const vid = document.querySelector(".vid");
		function preview() {
			vid.muted = true;
			vid.currentTime = 38;
			vid.playbackRate = 0.8;
			vid.play();
		}

		function pause() {
			vid.currentTime = 39;
			vid.playbackRate = 1;
			vid.pause();
		}

		var playback = null;
		vid.addEventListener("mouseenter", () => {
			preview();
  			playback = setTimeout(pause, 4000);
		});
		vid.addEventListener("mouseleave", () => {
  			clearTimeout(playback);
  			playback = null;
  			pause();
		});
	</script>

</body>
</html>